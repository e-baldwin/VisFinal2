<head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans:400,800">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    
    <link rel="stylesheet" href="style.css" />

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!--<script src="https://d3js.org/d3.v4.js"></script>-->
    <!--
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
    -->
    <script src="script.js" defer type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.18.2"></script>

    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>

<style>
    * {
      font-family: 'Open Sans';
    }
</style>

</head>
<!-- Website Navigation Toolbar-->
<div class="topnav">
    <a class="active" href="#ebackground">Background</a>
    <a href="#impacts">Impacts</a>
    <a href="#question">Analysis</a>
    <a href="#conclusion">Takeaways</a>
    <a href = "about.html">About</a>
</div>

<body class = "background">

    <p class = "title">Is Our Future <i>Too</i> Bright?</p>
    <p class = "smallTitle">By: Emma Baldwin, Wanli Cheng, and Audrey Zhu</p>

    <p class = "largeTitle" id = "ebackground">Background of U.S. Energy Use</p>
    <p class = "explanation">
        The United States uses and produces a variety of energy sources, which can 
        be categorized into primary and secondary, renewable and nonrenewable, and fossil fuels.
        <br> 
        <br>Primary energy sources include fossil fuels (petroleum, natural gas, and coal), nuclear energy, and renewable sources of energy. 
        As such, electricity is a secondary energy source that is produced from primary energy sources.
        <br> 
        <br>Energy sources are measured in different physical units, such as liquid fuels in barrels or gallons, natural gas in cubic feet, 
        coal in short tons, and electricity in kilowatts and kilowatthours. Additionally, British Thermal Units (Btu), are a unit of heat
        that is a customary unit in the United States used to compare different types of energy.
    </p>

    <!------------------------- STACKED BARCHART ------------------------->
    <!-- Container for the visualization -->
    <div id="pls"></div>
    <script>
    // Assign the specification to a local variable vlSpec.
    var vlSpec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "title": "Total Energy Consumption by Sector",
        "data": {"url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/energyconsumptionsectortotal.csv"},
        "width": 1000,
        "height": 200,
        "background": "#d3d3d3",
        "mark": {"type": "bar", "tooltip": true},
        "encoding": {
            "y": {"aggregate": "sum", "field": "Value", "title": "Total Energy Consumed (Trillion BTU)"},
            "x": {"field": "YYYY", "title": "Year"},
            "color": {"field": "Description", "title": ""}
        }
    };

    // Embed the visualization in the container with id `vis`
    vegaEmbed('#pls', vlSpec, {"actions": false});
    </script>
    <!------------------------- END STACKED BARCHART ------------------------->

    <div class = "sankey"></div> <!--Energy Consumption Big Graph -- sankey diagram with clicks leading to more specific graphs-->
    <p class = "explanation">
        In modern America energy consumption is a part of our everyday lives. From driving your car to work, or to charging your 
        smartphone at night, energy is constantly being used throughout our days. However, there are repercussions to this constant 
        energy use, especially on our environment.
    </p>
    <p class = "largeTitle" id = "impacts">What Are the Impacts?</p>
    <div class = "column">
        <!-- <p class = "smallTitle">Rising Temperatures</p>
        <div id= "tempGraph"></div> Rising Temps , Another for greenhouse Gases -->

        <!------------------------- AREACHART ------------------------->
        <!-- Container for the visualization -->
        <div id="vis"></div>
        <script>
        // Assign the specification to a local variable vlSpec.
        var vlSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "CO2 Emissions By Sector",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/co2emissionssectortotal.csv"
            },
            "vconcat": [
            {
                "width": 800,
                "height": 400,
                "mark": {"type": "area", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "YYYY",
                    "title": "Year",
                    "type": "temporal",
                    "scale": {"domain": {"param": "yearRange"}}
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (MMT)",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Description",
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                }
            },
            {
                "width": 800,
                "height": 100,
                "mark": "area",
                "params": [
                {
                    "name": "yearRange",
                    "select": {"type": "interval", "encodings": ["x"]}
                }
                ],
                "encoding": {
                "x": {"field": "YYYY", "title": "Year", "type": "temporal"},
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (MMT)",
                    "type": "quantitative",
                    "axis": {"tickCount": 3, "grid": false}
                }
                }
            }
            ],
            "background": "#d3d3d3",
            "config": {}
        };

        // Embed the visualization in the container with id `vis`
        vegaEmbed('#vis', vlSpec, {"actions": false});
        </script>
        <!------------------------- END AREACHART ------------------------->
    </div>

    <p class = "explanation">
        In the United States, the majority of human-caused greenhouse gas emissions primarily come from the burning of fossil fuels, 
        natural gas, and petroleum for energy. Some variables that effect greenhouse gas emissions are weather patterns, 
        which can impact energy usage with regards to heating and cooling, as well as economic growth. Additionally, 
        energy prices, as well as government legislation may also limit how much energy can be consumed.
        <br> 
        <br>As seen in graph (use the view below for a better breakdown) above, the short-term 
        drop during 2020 in carbon-dioxide emissions for all sectors can be attributed to the COVID-19 
        pandemic which dramatically impacted economic production.
    </p>
    
    
    <div class = "rightCol">

<!---
        <p class = "smallTitle">Rising Greenhouse Gases</p>
        <div id = "GreenhouseGraph"></div> Greenhouse Gases rising-->

    </div>
    
    

    <p class = "largeTitle" id = "question">Why is Energy Consumption Increasing? </p>
    <!-- Two COlumns??-->
    <div class = "center"><!--class = "column">-->
        <!-- <p class = "smallTitle">Population Growth</p> --> 
        <!------------------------- POPULATION GROWTH CHART ------------------------->
        <div id = population></div>
        <script>
            var v1Spec = {
                
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "US Population Growth",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/USA_population_growth.csv"
            },
      
            
                "width": 600,
                "height": 200,
                "background": null,
                "mark":{"type": "point", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "year",
                    "title": "Year",
                    "type": "nominal"
                    
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Population Growth",
                    "title": "Population Growth",
                    "type": "quantitative"
                },
                "color": {
                    
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                }
            }
            vegaEmbed('#population', v1Spec);
        </script>
        <!------------------------- END POPULATION GROWTH CHART ------------------------->

        <!--<div id = "lineGraphPop"></div>  Have population growth a-->
    </div>
    <div class = "center"><!--</div>class = "rightCol">-->
       <!--- <p class = "smallTitle">Economic Growth</p> -->
        <!------------------------- ECONOMIC GROWTH CHART ------------------------->
        <div id = "economy"></div>
        <script>
            var v2Spec={
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "US Economic Growth",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/MER_TC1.csv"
            
            },
                "transform":[
                    
                    {"filter":{"field":"YYYYMM", "gte":"196013"}}
                ],
              
                  
              
                "width": 800,
                "height": 200,
                "background": null,
                
                "mark":{"type": "point", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "YYYYMM",
                    "title": "Year",
                    "type": "nominal"
                    
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Value",
                    "type": "quantitative"
                },
                "color": {
                    "field":"Description",
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                
                }}
                vegaEmbed('#economy', v2Spec);
        </script>
        <!------------------------- END ECONOMIC GROWTH CHART ------------------------->

        <!-- <div id  = "gdpGraph" ></div> <!-- economic development potentially?? -->
    </div>
    <p class = "explanation">
        As countries continue to increase production, energy will constantly be used.
    </p>
    <p class = "largeTitle">Takeaways</p>
    <p class = "explanation">
        In conclusion, 
        <br> 
        <br>Energy consumption will continue to increase as we continue to have technological progress. However, with greener 
        forms of energy such as wind, solar, and water, we can minimize the impact that energy consumption has on the environment.
        With more efficient systems as well as global legislation and collaborative efforts to reduce these emissions, we can see
        that there is truly a bright future in store for us and our planet.
    </p>

</body>

