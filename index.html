<head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    
    <link rel="stylesheet" href="style.css" />

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!--<script src="https://d3js.org/d3.v4.js"></script>-->
    <!--
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
    -->
    <script src="script.js" defer type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.18.2"></script>

    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>

</head>
<!-- Website Navigation Toolbar-->
<div class="topnav">
    <a class="active" href="#home">Home</a>
    <a href="#pls">Stacked Barchart</a>
    <a href="#vis">Areachart</a>
    <a href="#population">Line chart</a>
</div>

<body class = "background">

    <p class = "title">Increasing Energy Consumption</p>
    <p class = "largeTitle">How We Know it's getting Worse and Why</p>

    <p class ="largeTitle">By: Emma Baldwin, Wanli Cheng, Audrey Zhu</p>

    <!------------------------- STACKED BARCHART ------------------------->
    <!-- Container for the visualization -->
    <div id="pls"></div>
    <script>
    // Assign the specification to a local variable vlSpec.
    var vlSpec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "title": "Total Energy Consumption by Sector",
        "data": {"url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/energyconsumptionsectortotal.csv"},
        "width": 1000,
        "height": 200,
        "mark": {"type": "bar", "tooltip": true},
        "encoding": {
            "y": {"aggregate": "sum", "field": "Value", "title": "Total Energy Consumed (Trillion BTU)"},
            "x": {"field": "YYYY", "title": "Year"},
            "color": {"field": "Description", "title": ""}
        }
    };

    // Embed the visualization in the container with id `vis`
    vegaEmbed('#pls', vlSpec);
    </script>
    <!------------------------- END STACKED BARCHART ------------------------->

    <div class = "sankey"></div> <!--Energy Consumption Big Graph -- sankey diagram with clicks leading to more specific graphs-->
    <p class = "explanation">
        In modern America energy consumption is a part of our everyday lives. From driving your car to work, or to charging your 
        smartphone at night, energy is constantly being used throughout our days. However, there are repercussions, to this constant 
        energy use, especially on our environment.
    </p>
    <p class = "largeTitle">How Do We Know it's getting Worse? / Why Should You Care?</p>
    <div class = "column">
        <p class = "smallTitle">Rising Temperatures</p>
        <div id= "tempGraph"></div> <!-- Rising Temps , Another for greenhouse Gases-->

        <!------------------------- AREACHART ------------------------->
        <!-- Container for the visualization -->
        <div id="vis"></div>
        <script>
        // Assign the specification to a local variable vlSpec.
        var vlSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "CO2 Emissions By Sector",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/co2emissionssectortotal.csv"
            },
            "vconcat": [
            {
                "width": 400,
                "height": 200,
                "mark": {"type": "area", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "YYYY",
                    "title": "Year",
                    "type": "temporal",
                    "scale": {"domain": {"param": "yearRange"}}
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (MMT)",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Description",
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                }
            },
            {
                "width": 400,
                "height": 50,
                "mark": "area",
                "params": [
                {
                    "name": "yearRange",
                    "select": {"type": "interval", "encodings": ["x"]}
                }
                ],
                "encoding": {
                "x": {"field": "YYYY", "title": "Year", "type": "temporal"},
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (MMT)",
                    "type": "quantitative",
                    "axis": {"tickCount": 3, "grid": false}
                }
                }
            }
            ],
            "config": {}
        };

        // Embed the visualization in the container with id `vis`
        vegaEmbed('#vis', vlSpec);
        </script>
        <!------------------------- END AREACHART ------------------------->
    </div>
    
    <div class = "rightCol">
        <p class = "smallTitle">Rising Greenhouse Gases</p>
        <div id = "GreenhouseGraph"></div> <!-- Greenhouse Gases rising-->
    </div>
    <p class = "explanation">
        "In the United States, most of the emissions of human-caused (anthropogenic) greenhouse gases (GHG) come primarily from burning 
        fossil fuels—coal, natural gas, and petroleum—for energy use. Economic growth (with short-term fluctuations in growth rate) and 
        weather patterns that affect heating and cooling needs are the main factors that drive the amount of energy consumed. 
        Energy prices and government policies can also affect the sources or types of energy consumed." -eia
    </p>
    

    <p class = "largeTitle">Why is Energy Consumption Increasing? </p>
    <!-- Two COlumns??-->
    <div class = "column">
        <p class = "smallTitle">Population Growth</p>
        <!------------------------- POPULATION GROWTH CHART ------------------------->
        <div id = population></div>
        <script>
            var v1Spec = {
                
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "US Population Growth",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/USA_population_growth.csv"
            },
      
            
                "width": 600,
                "height": 200,
                "mark":{"type": "point", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "year",
                    "title": "Year",
                    "type": "nominal"
                    
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Population Growth",
                    "title": "Population Growth",
                    "type": "quantitative"
                },
                "color": {
                    
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                }
            }
            vegaEmbed('#population', v1Spec);
        </script>
        <!------------------------- END POPULATION GROWTH CHART ------------------------->

        <!--<div id = "lineGraphPop"></div>  Have population growth a-->
    </div>
    <div class = "rightCol">
        <p class = "smallTitle">Economic Growth</p>
        <!------------------------- ECONOMIC GROWTH CHART ------------------------->
        <div id = "economy"></div>
        <script>
            var v2Spec={
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "US Economy",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/MER_TC1.csv"
            
            },
                "transform":[
                    
                    {"filter":{"field":"YYYYMM", "gte":"196013"}}
                ],
              
                  
              
                "width": 800,
                "height": 200,
                
                "mark":{"type": "point", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "YYYYMM",
                    "title": "Year",
                    "type": "nominal"
                    
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Value",
                    "type": "quantitative"
                },
                "color": {
                    "field":"Description",
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                
                }}
                vegaEmbed('#economy', v2Spec);
        </script>
        <!------------------------- END ECONOMIC GROWTH CHART ------------------------->

        <!-- <div id  = "gdpGraph" ></div> <!-- economic development potentially?? -->
    </div>
    <p class = "explanation">
        As countries continue to increase production, energy will constantly be used.
    </p>
    <p class = "explanation">
        Energy consumption will continue to increase as we continue to have technological progress. However, with greener forms of energy such
        as wind, solar, and water, we can minimize the impact that energy consumption has on the environment.
    </p>


</body>

