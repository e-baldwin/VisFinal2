<head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    
    <link rel="stylesheet" href="style.css" />

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!--<script src="https://d3js.org/d3.v4.js"></script>-->
    <!--
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
    -->
    <script src="script.js" defer type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.18.2"></script>

    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>

</head>
<body class = "background">

    <p class = "title">Increasing Energy Consumption</p>
    <p class = "largeTitle">How We Know it's getting Worse and Why</p>

    <div class = "sankey"></div> <!--Energy Consumption Big Graph -- sankey diagram with clicks leading to more specific graphs-->
    <p class = "explanation">Small Paragraph explaining what is happening // about energy consumption</p>
    <p class = "largeTitle">How Do We Know it's getting Worse? / Why Should You Care?</p>
    <div class = "column">
        <p class = "smallTitle">Rising Temperatures</p>
        <div id= "tempGraph"></div> <!-- Rising Temps , Another for greenhouse Gases-->
        <!-- Container for the visualization -->
        <div id="vis"></div>

        <script>
        // Assign the specification to a local variable vlSpec.
        var vlSpec = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "title": "CO2 Emissions By Sector",
            "data": {
            "url": "https://raw.githubusercontent.com/e-baldwin/VisFinalPractice/main/co2emissionssectortotal.csv"
            },
            "vconcat": [
            {
                "width": 400,
                "height": 200,
                "mark": {"type": "area", "tooltip": true},
                "encoding": {
                "x": {
                    "field": "YYYYMM",
                    "title": "Year",
                    "type": "quantitative",
                    "scale": {"domain": {"param": "yearRange"}}
                },
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (BTU)",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Description",
                    "type": "nominal",
                    "scale": {"scheme": "category20b"}
                }
                }
            },
            {
                "width": 400,
                "height": 50,
                "mark": "area",
                "params": [
                {
                    "name": "yearRange",
                    "select": {"type": "interval", "encodings": ["x"]}
                }
                ],
                "encoding": {
                "x": {"field": "YYYYMM", "title": "Year", "type": "quantitative"},
                "y": {
                    "aggregate": "sum",
                    "field": "Value",
                    "title": "Emissions (BTU)",
                    "type": "quantitative",
                    "axis": {"tickCount": 3, "grid": false}
                }
                }
            }
            ],
            "config": {}
        };

        // Embed the visualization in the container with id `vis`
        vegaEmbed('#vis', vlSpec);
        </script>
    </div>
    
    <div class = "rightCol">
        <p class = "smallTitle">Rising Greenhouse Gases</p>
        <div id = "GreenhouseGraph"></div> <!-- Greenhouse Gases rising-->
    </div>
    <p class = "explanation">Small Paragraph Explaining rising gases and temperatures. Why this is important and how this
        shows that energy consumption is harming our planet. Greenhouse gases are increasing partially due to a rise in Energy Consumption.
    </p>
    

    <p class = "largeTitle">Why is Energy Consumption Increasing? </p>
    <!-- Two COlumns??-->
    <div class = "column">
        <p class = "smallTitle">Population Growth</p>
        <div id = "lineGraphPop"></div> <!--Have population growth a-->
    </div>
    <div class = "rightCol">
        <p class = "smallTitle">Economic Growth</p>
        <div id  = "" ></div> <!-- economic development potentially?? -->
    </div>
    <p class = "explanation">Small paragraph explaining why it is increasing</p>
    <p class = "explanation">Small paragraph on how you can help // bigger picture things</p>


</body>